(function(e){function t(t){for(var n,c,s=t[0],i=t[1],u=t[2],d=0,m=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==a[i]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0035":function(e,t,r){},"06ed":function(e,t,r){},2983:function(e,t,r){"use strict";var n=r("51ec"),a=r.n(n);a.a},"51ec":function(e,t,r){},5253:function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"7ee5":function(e,t,r){"use strict";var n=r("a4d9"),a=r.n(n);a.a},"8b40":function(e,t,r){"use strict";var n=r("06ed"),a=r.n(n);a.a},"9c0c":function(e,t,r){},a4d9:function(e,t,r){},c76e:function(e,t,r){"use strict";var n=r("0035"),a=r.n(n);a.a},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],c=(r("5c0b"),r("2877")),s={},i=Object(c["a"])(s,a,o,!1,null,null,null),u=i.exports,l=(r("99af"),r("d3b7"),r("96cf"),r("1da1")),d=r("8c4f"),m=(r("4de4"),r("d81d"),r("b0c0"),r("2f62")),p=(r("a630"),r("caad"),r("6062"),r("2532"),r("3ca3"),r("ddb0"),r("b85c")),f=(r("a4d3"),r("e01a"),r("d4ec"));function h(e){return new Promise((function(t){return setTimeout(t,e)}))}var v=1e9;function b(e,t){return g.apply(this,arguments)}function g(){return g=Object(l["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],n){e.next=4;break}return console.log(["Warning:",t,r]),e.abrupt("return");case 4:return a=encodeURIComponent(t||"No name"),o=encodeURIComponent(r?JSON.stringify(r):JSON.stringify({})),window.location.assign("/errorMsg?header=".concat(a,"&body=").concat(o)),e.next=9,h(v);case 9:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}r("7db0"),r("fb6a"),r("07ac"),r("4d63"),r("ac1f"),r("25f0");var S=r("53ca");function j(e){if("object"!==Object(S["a"])(e))return!1;var t=["name","source_disk","storage_locations"];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&!t.includes(r))return!1;for(var n=0,a=t;n<a.length;n++){var o=a[n];if(!Object.prototype.hasOwnProperty.call(e,o))return!1}if("string"!==typeof e.name)return!1;if("string"!==typeof e.source_disk)return!1;if("object"!==Object(S["a"])(e.storage_locations))return!1;var c,s=Object(p["a"])(e.storage_locations);try{for(s.s();!(c=s.n()).done;){var i=c.value;if("string"!==typeof i)return!1}}catch(u){s.e(u)}finally{s.f()}return!0}function y(e){return e.content.operationGroups[0].operations[0].action}function O(e){return e.content.operationGroups[0].operations[0].resource}function k(e){return e.content.operationGroups[0].operations[1].resource}function w(e){return e.content.operationGroups[0].operations[0].value}function x(e,t){var r="/".concat(e,"/").length,n="/".concat(e,"/[^/]*"),a=new RegExp(n),o=a.exec(t);if(null===o)throw"couldn't parse identifier: ".concat(t);var c=o[0].slice(r);return c}function _(e){var t=y(e);switch(t){case"add":var r=w(e);if(j(r))return x("disks",r.source_disk);throw"the given value parameter doesn't match the action";case"remove":var n=O(e);return x("disks",n);case"replace":var a=O(e);return x("instances",a);case"test":var o=O(e);return x("instances",o);default:throw"the given recommendation contains an unsupported action"}}function C(e){var t=O(e);return x("projects",t)}function R(e){var t=e.cost;console.assert("USD"===t.currencyCode,"Only USD supported, got %s",t.currencyCode);var r=parseInt(e.duration.slice(0,-1)),n=0;return void 0!==t.units&&(n+=parseInt(t.units)),void 0!==t.nanos&&(n+=t.nanos/1e9),60*n*60*24*7/r}function E(e){var t;return t="PERFORMANCE"==e.primaryImpact.category?Object.values(e.additionalImpact).find((function(e){return"COST"===e.category})).costProjection:e.primaryImpact.costProjection,R(t)}function P(e){return e.recommenderSubtype}function T(e){var t,r=P(e);return t="SNAPSHOT_AND_DELETE_DISK"===r?k(e):O(e),x("zones",t)}function I(e){var t=T(e),r=C(e),n=_(e),a=P(e);switch(a){case"SNAPSHOT_AND_DELETE_DISK":case"DELETE_DISK":return"https://console.cloud.google.com/compute/disksDetail/zones/".concat(t,"/disks/").concat(n,"?project=").concat(r);default:return"https://console.cloud.google.com/compute/instancesDetail/zones/".concat(t,"/instances/").concat(n,"?project=").concat(r)}}var A={ACTIVE:"Applicable",CLAIMED:"In progress",SUCCEEDED:"Success",FAILED:"Failed",DISMISSED:"Dismissed"};function D(e){if(!(e in A))throw"invalid status name passed: ".concat(e)}function V(e){return D(e),A[e]}function $(){return Object.values(A)}var N=function e(t){Object(f["a"])(this,e),this.costCol=-123456789,this.projectCol="Undefined",this.resourceCol="Undefined",this.typeCol="Undefined",this.statusCol="Undefined",this.needsStatusWatcher=!1,this.name=t.name,this.description=t.description,this.recommenderSubtype=t.recommenderSubtype,this.primaryImpact=t.primaryImpact,this.content=t.content,this.stateInfo=t.stateInfo,this.additionalImpact=t.additionalImpact;try{this.costCol=E(t),this.projectCol=C(t),this.resourceCol=_(t),this.typeCol=P(t),this.statusCol=V(t.stateInfo.state),this.needsStatusWatcher=this.statusCol===V("CLAIMED")}catch(r){b("Failed to parse recommendation: Continuing.",{error:JSON.stringify(r),recommendation:JSON.stringify(t)},!1)}},q=function e(){Object(f["a"])(this,e)};function F(){return void 0===q.PRODUCTION_BACKEND_ADDRESS?"https://recomator-282910.ey.r.appspot.com":q.PRODUCTION_BACKEND_ADDRESS}function M(e,t){return void 0==e&&(e={}),void 0==e.headers&&(e.headers={}),e.headers=Object.assign({},e.headers,{Authorization:"Bearer ".concat(t.authStore.idToken)}),e}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var r=Object(l["a"])(regeneratorRuntime.mark((function r(n,a){var o,c,s,i,u,l,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=M(a,e),s=t+1,i=2e3;case 3:if(!(s>0)){r.next=37;break}if(s--,!(s<t)){r.next=9;break}return r.next=8,h(i);case 8:i*=2;case 9:return r.prev=9,r.next=12,fetch(n,o);case 12:c=r.sent,r.next=21;break;case 15:return r.prev=15,r.t0=r["catch"](9),u=0===s,r.next=20,b("Failed to reach the Recomator backend",{Message:r.t0.Message,URL:n,Init:JSON.stringify(a),"Stack trace":r.t0.stack},u);case 20:return r.abrupt("continue",3);case 21:if(!c.ok){r.next=23;break}return r.abrupt("break",37);case 23:if(l=c.status,401!==l&&403!==l){r.next=29;break}return r.next=27,e.router.push({name:"GoogleSignIn"});case 27:return r.next=29,h(v);case 29:return r.next=31,c.json();case 31:return d=r.sent,r.next=34,b("Network request failed: ".concat(c.status,"(").concat(c.statusText,")"),{URL:n,Init:JSON.stringify(a),ErrorMessage:null==d?c.body:d.errorMessage},!0);case 34:throw Error("Unreachable");case 37:return r.abrupt("return",c);case 38:case"end":return r.stop()}}),r,null,[[9,15]])})));function n(e,t){return r.apply(this,arguments)}return n}()}q.DEVELOPMENT_BACKEND_ADDRESS="http://localhost:8000/api",q.PRODUCTION_BACKEND_ADDRESS=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BACKEND_ADDRESS;r("13d5");var B=r("bee2");function W(e,t){return void 0==e[t]&&(e[t]=[0,0]),e[t]}function U(e,t,r){var n=W(e.projectCounters,r.projectCol)[0],a=1-n/t,o=W(e.typeCounters,r.typeCol)[0],c=1-o/t;return a+c}function H(e,t){var r=Object.values(t.projectCounters).map((function(e){return e[0]})).reduce((function(e,t){return e+t})),n=function(e,n){var a=U(t,r,e),o=U(t,r,n);return a===o?0:a<o?-1:1};e.sort(n)}var G=function e(){Object(f["a"])(this,e),this.projectCounters={},this.typeCounters={}},J=function(){function e(){Object(f["a"])(this,e),this.data=new G}return Object(B["a"])(e,[{key:"loadFromLocalStorage",value:function(){var e=window.localStorage.getItem("training_data");this.data=null==e?new G:JSON.parse(e)}},{key:"saveToLocalStorage",value:function(){window.localStorage.setItem("training_data",JSON.stringify(this.data))}},{key:"addRecommendation",value:function(e){W(this.data.projectCounters,e.projectCol)[1]++,W(this.data.typeCounters,e.typeCol)[1]++}},{key:"applyAddedRecommendation",value:function(e){W(this.data.projectCounters,e.projectCol)[0]++,W(this.data.typeCounters,e.typeCol)[0]++}}]),e}(),z=new J;z.loadFromLocalStorage();r("4ec9");function K(){return{recommendations:[],failedProjects:[],recommendationsByName:new Map,requestId:"null",cancel:!1,progress:null,centralStatusWatcherRunning:!1}}var Y=F(),Q=100,X=1e4,Z={addRecommendation:function(e,t){var r=new N(t);if(void 0!==e.recommendationsByName.get(r.name))throw"Duplicate recommendation name";e.recommendations.push(r),e.recommendationsByName.set(r.name,r)},setFailedProjects:function(e,t){e.failedProjects=t},endFetching:function(e){e.progress=null},setCancel:function(e,t){e.cancel=t},setProgress:function(e,t){e.progress=t},resetRecommendations:function(e){e.recommendations=[],e.recommendationsByName.clear()},setRequestId:function(e,t){e.requestId=t},doSimilaritySort:function(e){H(e.recommendations,z.data)},setRecommendationStatus:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.statusCol=V(t.newStatus)},setRecommendationError:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.errorHeader=t.header,r.errorDescription=t.desc},setRecommendationNeedsStatusWatcher:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.needsStatusWatcher=t.needs},registerCentralStatusWatcher:function(e){if(e.centralStatusWatcherRunning)throw"More than once central status watcher";e.centralStatusWatcherRunning=!0}},ee={fetchRecommendations:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,c,s,i,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.state.progress){t.next=2;break}return t.abrupt("return");case 2:return e.commit("resetRecommendations"),e.commit("setProgress",0),e.commit("setCancel",!1),r=L(e.rootState,3),t.next=8,r("".concat(Y,"/recommendations"),{body:JSON.stringify({projects:e.rootGetters["selectedProjects"]}),method:"POST"});case 8:return n=t.sent,t.t0=e,t.next=12,n.text();case 12:t.t1=t.sent,t.t0.commit.call(t.t0,"setRequestId",t.t1);case 14:return t.next=16,r("".concat(Y,"/recommendations?request_id=").concat(e.state.requestId));case 16:return o=t.sent,t.next=19,o.json();case 19:if(a=t.sent,void 0===a.recommendations){t.next=22;break}return t.abrupt("break",30);case 22:return e.commit("setProgress",Math.floor(100*a.batchesProcessed/a.numberOfBatches)),t.next=25,h(Q);case 25:if(!e.state.cancel){t.next=28;break}return e.commit("endFetching"),t.abrupt("return");case 28:t.next=14;break;case 30:if(null!==a.recommendations){c=Object(p["a"])(a.recommendations);try{for(c.s();!(s=c.n()).done;)i=s.value,e.commit("addRecommendation",i)}catch(m){c.e(m)}finally{c.f()}u=Object(p["a"])(e.state.recommendations);try{for(u.s();!(l=u.n()).done;)d=l.value,z.addRecommendation(d)}catch(m){u.e(m)}finally{u.f()}e.commit("doSimilaritySort")}null!==a.failedProjects&&e.commit("setFailedProjects",a.failedProjects.map((function(e){return e.project}))),e.commit("endFetching");case 33:case"end":return t.stop()}}),t)})))()},applyGivenRecommendations:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c,s,i,u,l,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.dispatch,a=e.state,new Set(t).size===t.length){r.next=3;break}throw"Duplicates found among given recommendation names";case 3:if(o=t.map((function(e){return a.recommendationsByName.get(e)})),!o.includes(void 0)){r.next=6;break}throw"Name given doesn't match an existing recommendation";case 6:c=Object(p["a"])(o);try{for(c.s();!(s=c.n()).done;)i=s.value,z.applyAddedRecommendation(i)}catch(m){c.e(m)}finally{c.f()}z.saveToLocalStorage(),u=Object(p["a"])(o),r.prev=10,u.s();case 12:if((l=u.n()).done){r.next=18;break}return d=l.value,r.next=16,n("applySingleRecommendation",d);case 16:r.next=12;break;case 18:r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](10),u.e(r.t0);case 23:return r.prev=23,u.f(),r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[10,20,23,26]])})))()},applySingleRecommendation:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.rootState,n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),o=L(a,0),r.next=5,o("".concat(Y,"/recommendations/apply?name=").concat(t.name),{method:"POST"});case 5:n("setRecommendationNeedsStatusWatcher",{recName:t.name,needs:!0});case 6:case"end":return r.stop()}}),r)})))()},startCentralStatusWatcher:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,n=e.dispatch,r("registerCentralStatusWatcher");case 2:return t.next=4,n("checkStatusOnceForAll");case 4:return t.next=6,h(X);case 6:t.next=2;break;case 8:case"end":return t.stop()}}),t)})))()},checkStatusOnceForAll:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,c,s,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.state,n=e.commit,a=e.dispatch,o=r.recommendations.map((function(e){return e})),c=Object(p["a"])(o),t.prev=3,c.s();case 5:if((s=c.n()).done){t.next=15;break}if(i=s.value,i.needsStatusWatcher){t.next=9;break}return t.abrupt("continue",13);case 9:return t.next=11,a("checkStatusOnce",i);case 11:u=t.sent,n("setRecommendationNeedsStatusWatcher",{recName:i.name,needs:u});case 13:t.next=5;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),c.e(t.t0);case 20:return t.prev=20,c.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})))()},checkStatusOnce:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.rootState,o=L(a,3),r.next=4,o("".concat(Y,"/recommendations/checkStatus?name=").concat(t.name));case 4:return c=r.sent,r.next=7,c.json();case 7:s=r.sent,r.t0=s.status,r.next="CLAIMED"===r.t0||"IN PROGRESS"===r.t0?11:"SUCCEEDED"===r.t0?13:"ACTIVE"===r.t0?15:"FAILED"===r.t0?18:21;break;case 11:return n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),r.abrupt("return",!0);case 13:return n("setRecommendationStatus",{recName:t.name,newStatus:"SUCCEEDED"}),r.abrupt("return",!1);case 15:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Server hasn't acknowledged the request",desc:"The recommendation is still active, so the Recomator API has not received the request to apply this recommendation. You can try applying it again."}),r.abrupt("return",!1);case 18:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Applying recommendation failed server-side. You can try applying it again.",desc:"".concat(s.errorMessage)}),r.abrupt("return",!1);case 21:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Bad status(".concat(s.status,")"),desc:"Recomator API status not recognized."}),r.abrupt("return",!1);case 24:case"end":return r.stop()}}),r)})))()}},te={allProjects:function(e){var t=e.recommendations.map((function(e){return e.projectCol})).sort();return Array.from(new Set(t))},allTypes:function(e){var t=e.recommendations.map((function(e){return e.typeCol})).sort();return Array.from(new Set(t))},allStatuses:function(e){var t=e.recommendations.map((function(e){return e.statusCol})).sort();return Array.from(new Set(t))}};function re(){return{namespaced:!0,state:K(),mutations:Z,actions:ee,getters:te}}var ne=function e(t,r,n){Object(f["a"])(this,e),this.name=t,this.satisfied=r,this.errorMessage=n},ae=function(){function e(t,r){Object(f["a"])(this,e),this.name=t,this.requirements=new Array;var n,a=Object(p["a"])(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.requirements.push(o)}}catch(c){a.e(c)}finally{a.f()}}return Object(B["a"])(e,[{key:"satisfiesRequirement",value:function(e){var t,r=Object(p["a"])(this.requirements);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.name===e)return n.satisfied}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"hasRequirement",value:function(e){var t,r=Object(p["a"])(this.requirements);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.name===e)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"getErrorMessage",value:function(e){var t,r=Object(p["a"])(this.requirements);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.name===e)return n.errorMessage}}catch(a){r.e(a)}finally{r.f()}return"Unknown requirement"}}]),e}();function oe(){return{projects:[],progress:null,requestId:"",display:!1}}var ce=F(),se=100,ie={startFetch:function(e){e.progress=0},addRequirement:function(e,t){if(0!==e.projects.filter((function(e){return e.name===t.name})).length)throw"Duplicate requirement name";e.projects.push(t)},resetRequirements:function(e){e.projects=[]},endFetch:function(e){e.progress=null},setProgress:function(e,t){e.progress=t},setRequestId:function(e,t){e.requestId=t}},ue={fetchRequirements:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,c,s,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.state.progress){t.next=2;break}return t.abrupt("return");case 2:return e.commit("resetRequirements"),e.commit("startFetch"),r=L(e.rootState,3),t.next=7,r("".concat(ce,"/requirements"),{body:JSON.stringify({projects:e.rootGetters["selectedProjects"]}),method:"POST"});case 7:return n=t.sent,t.t0=e,t.next=11,n.text();case 11:t.t1=t.sent,t.t0.commit.call(t.t0,"setRequestId",t.t1);case 13:return t.next=15,r("".concat(ce,"/requirements?request_id=").concat(e.state.requestId));case 15:return o=t.sent,t.next=18,o.json();case 18:if(a=t.sent,void 0===a.projectsRequirements){t.next=21;break}return t.abrupt("break",26);case 21:return e.commit("setProgress",Math.floor(100*a.batchesProcessed/a.numberOfBatches)),t.next=24,h(se);case 24:t.next=13;break;case 26:if(null!==a.projectsRequirements){c=a.projectsRequirements.map((function(e){return new ae(e.project,e.requirements.map((function(e){return new ne(e.name,e.satisfied,e.errorMessage)})))})),s=Object(p["a"])(c);try{for(s.s();!(i=s.n()).done;)u=i.value,e.commit("addRequirement",u)}catch(l){s.e(l)}finally{s.f()}}e.commit("endFetch");case 28:case"end":return t.stop()}}),t)})))()}};function le(){return{namespaced:!0,state:oe(),mutations:ie,actions:ue}}function de(){return{resourceNameSearchText:"",descriptionSearchText:"",projectsSelected:[],typesSelected:[],statusesSelected:[],costCategoriesSelected:[],selected:[],currentlySelectable:[]}}var me={setResourceNameSearchText:function(e,t){e.resourceNameSearchText=t},setDescriptionSearchText:function(e,t){e.descriptionSearchText=t},setProjectsSelected:function(e,t){e.projectsSelected=t},setTypesSelected:function(e,t){e.typesSelected=t},setStatusesSelected:function(e,t){e.statusesSelected=t},setCostCategoriesSelected:function(e,t){e.costCategoriesSelected=t},setSelected:function(e,t){e.selected=t},setCurrentlySelectable:function(e,t){e.currentlySelectable=t},selectAllSelectable:function(e){var t,r=Object(p["a"])(e.currentlySelectable);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.selected.includes(n)||e.selected.push(n)}}catch(a){r.e(a)}finally{r.f()}},unselectAllSelectable:function(e){var t,r=Object(p["a"])(e.currentlySelectable);try{var n=function(){var r=t.value;e.selected=e.selected.filter((function(e){return e!==r}))};for(r.s();!(t=r.n()).done;)n()}catch(a){r.e(a)}finally{r.f()}},select:function(e,t){e.selected.includes(t)||e.selected.push(t)},unselect:function(e,t){e.selected=e.selected.filter((function(e){return e!==t}))}};function pe(){return{namespaced:!0,state:de(),mutations:me}}function fe(){return{idToken:void 0}}var he={setIDToken:function(e,t){e.idToken=t}};function ve(){return{namespaced:!0,state:fe(),mutations:he}}r("c975");var be={costs:"Costs",gains:"Savings"};function ge(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())}function Se(e,t){return 0===e.projectsSelected.length||e.projectsSelected.includes(t.projectCol)}function je(e,t){return 0===e.typesSelected.length||e.typesSelected.includes(t.typeCol)}function ye(e,t){return 0===e.statusesSelected.length||e.statusesSelected.includes(t.statusCol)}function Oe(e,t){return 0==e.costCategoriesSelected.length||t.costCol>=0&&e.costCategoriesSelected.includes(be.costs)||t.costCol<=0&&e.costCategoriesSelected.includes(be.gains)}function ke(e,t){return 0===e.resourceNameSearchText.length||ge(e.resourceNameSearchText,t.resourceCol)}function we(e,t){return 0===e.descriptionSearchText.length||ge(e.descriptionSearchText,t.description)}function xe(e,t){return Se(e,t)&&je(e,t)&&ye(e,t)&&Oe(e,t)&&ke(e,t)&&we(e,t)}var _e=function e(t){Object(f["a"])(this,e),this.name=t};function Ce(){return Re.apply(this,arguments)}function Re(){return Re=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(F(),"/recommendations"));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),Re.apply(this,arguments)}function Ee(){return window.localStorage.getItem("project_list")}function Pe(){return{projects:[],projectsSelected:[],loading:!1,loaded:!1}}var Te=F(),Ie={setProjects:function(e,t){new Set(t).size!==t.length&&console.log("Duplicates found among given projects' names");var r,n=Object(p["a"])(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.projects.push(new _e(a))}}catch(o){n.e(o)}finally{n.f()}},startFetch:function(e){e.loading=!0},endFetch:function(e){e.loading=!1,e.loaded=!0},setSelected:function(e,t){e.projectsSelected=t},sortProjects:function(e){e.projects=e.projects.sort((function(e,t){return e.name==t.name?0:e.name>t.name?1:-1}))},resetProjects:function(e){e.projects=[],e.projectsSelected=[],e.loaded=!1,e.loading=!1}},Ae={fetchProjects:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.state.loading&&!0!==e.state.loaded){t.next=2;break}return t.abrupt("return");case 2:return e.commit("resetProjects"),e.commit("startFetch"),r=L(e.rootState,3),t.next=7,r("".concat(Te,"/projects"));case 7:return n=t.sent,t.next=10,n.json();case 10:a=t.sent,null!==a&&e.commit("setProjects",a.projects),e.dispatch("loadSelectedProjects"),e.commit("sortProjects"),e.commit("endFetch");case 15:case"end":return t.stop()}}),t)})))()},loadSelectedProjects:function(e){var t=Ee();null!==t&&e.commit("setSelected",JSON.parse(t))},saveSelectedProjects:function(e){window.localStorage.setItem("project_list",JSON.stringify(e.state.projectsSelected))}};function De(){return{namespaced:!0,state:Pe(),mutations:Ie,actions:Ae}}n["default"].use(m["b"]);var Ve={filteredRecommendationsWithExtras:function(e){return e.recommendationsStore.recommendations.filter((function(t){return xe(e.coreTableStore,t)}))},selectedProjects:function(e){return e.projectsStore.projectsSelected.map((function(e){return e.name}))},failedProjects:function(e){return e.recommendationsStore.failedProjects}};function $e(){var e={state:{},getters:Ve,modules:{recommendationsStore:re(),requirementsStore:le(),projectsStore:De(),coreTableStore:pe(),authStore:ve()}};return new m["a"](e)}var Ne=$e(),qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("AppBar",[null===e.$store.state.recommendationsStore.progress?r("EditProjectsButton"):e._e()],1),r("v-main",[null!==e.$store.state.recommendationsStore.progress?r("ProgressWithHeader",{attrs:{progress:e.$store.state.recommendationsStore.progress,header:"Loading recommendations...","data-name":"main_progress_bar"}},[r("v-tooltip",{attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"white",icon:"",raised:""},on:{click:e.cancelFetching}},n),[r("v-icon",[e._v(" mdi-close-circle ")])],1)]}}],null,!1,1134230435)},[e._v(" Cancel loading recommendations ")])],1):e._e(),null===e.$store.state.recommendationsStore.progress?r("v-container",{attrs:{fluid:"","data-name":"main_container"}},[r("PermissionDialog"),r("v-row",[r("v-col",[r("CoreTable")],1)],1)],1):e._e()],1),r("Footer",{attrs:{"data-name":"main-footer"}})],1)},Fe=[],Me=r("262e"),Le=r("2caf"),Be=r("9ab4"),We=r("60a3"),Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("v-btn",{staticClass:"text-capitalize",attrs:{text:"",color:"white"},on:{click:function(t){return e.getHomePage()}}},[r("h1",[e._v("Recomator")])]),r("v-spacer"),e._t("default")],2)},He=[];function Ge(e,t){e.push({name:t},void 0,(function(e){console.log("Navigation warning:",e)}))}var Je=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"getHomePage",value:function(){var e=this.$store.state.authStore.idToken;void 0!==e?(this.$store.dispatch("projectsStore/saveSelectedProjects"),Ge(this.$router,"HomeWithInit")):Ge(this.$router,"GoogleSignIn")}}]),r}(We["b"]);Je=Object(Be["a"])([Object(We["a"])({})],Je);var ze=Je,Ke=ze,Ye=r("6544"),Qe=r.n(Ye),Xe=r("40dc"),Ze=r("8336"),et=r("2fa4"),tt=Object(c["a"])(Ke,Ue,He,!1,null,null,null),rt=tt.exports;Qe()(tt,{VAppBar:Xe["a"],VBtn:Ze["a"],VSpacer:et["a"]});var nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{ref:"check",attrs:{dense:"",headers:e.headers,items:this.$store.getters["filteredRecommendationsWithExtras"],"single-select":!1,"show-select":"","item-key":"name","footer-props":{itemsPerPageOptions:[10,100,-1]}},on:{"current-items":e.setSelectableRows},scopedSlots:e._u([{key:"header.data-table-select",fn:function(t){return[r("v-simple-checkbox",{attrs:{value:e.areAllSelected(),indeterminate:!e.areAllSelected()&&e.isSomeSelected()},on:{input:e.selectAll}})]}},{key:"item.data-table-select",fn:function(t){var n=t.item;return[r("v-simple-checkbox",{attrs:{value:e.isSelected(n)&&e.isActive(n),disabled:!e.isActive(n)},on:{input:function(t){e.select(n,e.isSelected(n))}}})]}},{key:"body.prepend",fn:function(e){var t=e.isMobile;return[r("FiltersRow",{attrs:{isMobile:t}})]}},{key:"item.resourceCol",fn:function(e){var t=e.item;return[r("ResourceCell",{attrs:{rowRecommendation:t}})]}},{key:"item.projectCol",fn:function(e){var t=e.item;return[r("ProjectCell",{attrs:{rowRecommendation:t}})]}},{key:"item.typeCol",fn:function(e){var t=e.item;return[r("TypeCell",{attrs:{rowRecommendation:t}})]}},{key:"item.description",fn:function(e){var t=e.item;return[r("DescriptionCell",{attrs:{rowRecommendation:t}})]}},{key:"item.costCol",fn:function(e){var t=e.item;return[r("SavingsCostCell",{attrs:{rowRecommendation:t}})]}},{key:"item.statusCol",fn:function(e){var t=e.item;return[r("ApplyAndStatusCell",{attrs:{rowRecommendation:t}})]}}]),model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}},[r("template",{slot:"no-data"},[r("v-alert",{attrs:{dense:"",type:"info"}},[e._v(" "+e._s(e.noDataMessage())+" ")])],1)],2)},at=[],ot=(r("a623"),r("45fc"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMobile?r("tr",[r("td",[r("ResourceFilter"),r("ProjectFilter"),r("TypeFilter"),r("DescriptionFilter"),r("CostFilter"),r("StatusFilter")],1)]):r("tr",[r("td"),r("td",{staticClass:"pb-5"},[r("ResourceFilter")],1),r("td",[r("ProjectFilter")],1),r("td",[r("TypeFilter")],1),r("td",{staticClass:"pb-5"},[r("DescriptionFilter")],1),r("td",[r("CostFilter")],1),r("td",[r("StatusFilter")],1)])}),ct=[],st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allCostCategories,label:"Savings/Costs",multiple:""},model:{value:e.costCategoriesSelected,callback:function(t){e.costCategoriesSelected=t},expression:"costCategoriesSelected"}})},it=[],ut=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"allCostCategories",get:function(){return Object.values(be)}},{key:"costCategoriesSelected",get:function(){return this.$store.state.coreTableStore.costCategoriesSelected},set:function(e){this.$store.commit("coreTableStore/setCostCategoriesSelected",e)}}]),r}(We["b"]);ut=Object(Be["a"])([We["a"]],ut);var lt=ut,dt=lt,mt=r("2b5d"),pt=Object(c["a"])(dt,st,it,!1,null,null,null),ft=pt.exports;Qe()(pt,{VCombobox:mt["a"]});var ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter descriptions","single-line":"","hide-details":""},model:{value:e.descriptionSearchText,callback:function(t){e.descriptionSearchText=t},expression:"descriptionSearchText"}})},vt=[],bt=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"descriptionSearchText",get:function(){return this.$store.state.coreTableStore.descriptionSearchText},set:function(e){this.$store.commit("coreTableStore/setDescriptionSearchText",e)}}]),r}(We["b"]);bt=Object(Be["a"])([We["a"]],bt);var gt=bt,St=gt,jt=r("8654"),yt=Object(c["a"])(St,ht,vt,!1,null,null,null),Ot=yt.exports;Qe()(yt,{VTextField:jt["a"]});var kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allProjects,label:"Select projects",multiple:""},model:{value:e.projectsSelected,callback:function(t){e.projectsSelected=t},expression:"projectsSelected"}})},wt=[],xt=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"allProjects",get:function(){return this.$store.getters["recommendationsStore/allProjects"]}},{key:"projectsSelected",get:function(){return this.$store.state.coreTableStore.projectsSelected},set:function(e){this.$store.commit("coreTableStore/setProjectsSelected",e)}}]),r}(We["b"]);xt=Object(Be["a"])([We["a"]],xt);var _t=xt,Ct=_t,Rt=Object(c["a"])(Ct,kt,wt,!1,null,null,null),Et=Rt.exports;Qe()(Rt,{VCombobox:mt["a"]});var Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter resources","single-line":"","hide-details":""},model:{value:e.resourceNameSearchText,callback:function(t){e.resourceNameSearchText=t},expression:"resourceNameSearchText"}})},Tt=[],It=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"resourceNameSearchText",get:function(){return this.$store.state.coreTableStore.resourceNameSearchText},set:function(e){this.$store.commit("coreTableStore/setResourceNameSearchText",e)}}]),r}(We["b"]);It=Object(Be["a"])([We["a"]],It);var At=It,Dt=At,Vt=Object(c["a"])(Dt,Pt,Tt,!1,null,null,null),$t=Vt.exports;Qe()(Vt,{VTextField:jt["a"]});var Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allInternalStatuses,label:"Select status",multiple:""},model:{value:e.statusesSelected,callback:function(t){e.statusesSelected=t},expression:"statusesSelected"}})},qt=[],Ft=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"statusesSelected",get:function(){return this.$store.state.coreTableStore.statusesSelected},set:function(e){this.$store.commit("coreTableStore/setStatusesSelected",e)}},{key:"allInternalStatuses",get:function(){return $()}}]),r}(We["b"]);Ft=Object(Be["a"])([We["a"]],Ft);var Mt=Ft,Lt=Mt,Bt=Object(c["a"])(Lt,Nt,qt,!1,null,null,null),Wt=Bt.exports;Qe()(Bt,{VCombobox:mt["a"]});var Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allTypes,label:"Select types",multiple:""},model:{value:e.typesSelected,callback:function(t){e.typesSelected=t},expression:"typesSelected"}})},Ht=[],Gt=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"allTypes",get:function(){return this.$store.getters["recommendationsStore/allTypes"]}},{key:"typesSelected",get:function(){return this.$store.state.coreTableStore.typesSelected},set:function(e){this.$store.commit("coreTableStore/setTypesSelected",e)}}]),r}(We["b"]);Gt=Object(Be["a"])([We["a"]],Gt);var Jt=Gt,zt=Jt,Kt=Object(c["a"])(zt,Ut,Ht,!1,null,null,null),Yt=Kt.exports;Qe()(Kt,{VCombobox:mt["a"]});var Qt=n["default"].extend({props:{isMobile:{type:Boolean,required:!0}}}),Xt=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return r}(Qt);Xt=Object(Be["a"])([Object(We["a"])({components:{CostFilter:ft,DescriptionFilter:Ot,ProjectFilter:Et,ResourceFilter:$t,StatusFilter:Wt,TypeFilter:Yt}})],Xt);var Zt=Xt,er=Zt,tr=Object(c["a"])(er,ot,ct,!1,null,null,null),rr=tr.exports,nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a",{attrs:{href:e.consoleLink,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.shortName)+" ")])])},ar=[],or=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),cr=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"shortName",get:function(){return this.rowRecommendation.resourceCol}},{key:"consoleLink",get:function(){return I(this.rowRecommendation)}}]),r}(or);cr=Object(Be["a"])([We["a"]],cr);var sr=cr,ir=sr,ur=Object(c["a"])(ir,nr,ar,!1,null,null,null),lr=ur.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.project)+" ")])},mr=[],pr=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),fr=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"project",get:function(){return this.rowRecommendation.projectCol}}]),r}(pr);fr=Object(Be["a"])([We["a"]],fr);var hr=fr,vr=hr,br=Object(c["a"])(vr,dr,mr,!1,null,null,null),gr=br.exports,Sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(e._s(e.description))])},jr=[],yr=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Or=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"description",get:function(){return this.rowRecommendation.description}}]),r}(yr);Or=Object(Be["a"])([We["a"]],Or);var kr=Or,wr=kr,xr=Object(c["a"])(wr,Sr,jr,!1,null,null,null),_r=xr.exports,Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-chip",{staticClass:"ma-2",attrs:{color:"white",label:""}},[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.iconName()))]),e._v(" "+e._s(e.recommenderSubtype)+" ")],1)],1)},Rr=[],Er=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Pr=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"iconName",value:function(){switch(this.recommenderSubtype){case"CHANGE_MACHINE_TYPE":return"mdi-move-resize-variant";case"STOP_VM":return"mdi-monitor-off";case"SNAPSHOT_AND_DELETE_DISK":return"mdi-monitor-screenshot";case"DELETE_DISK":return"mdi-harddisk-remove";default:return"mdi-cloud-question"}}},{key:"recommenderSubtype",get:function(){return this.rowRecommendation.typeCol}}]),r}(Er);Pr=Object(Be["a"])([We["a"]],Pr);var Tr=Pr,Ir=Tr,Ar=r("cc20"),Dr=r("132d"),Vr=Object(c["a"])(Ir,Cr,Rr,!1,null,null,null),$r=Vr.exports;Qe()(Vr,{VChip:Ar["a"],VIcon:Dr["a"]});var Nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tooltip",{attrs:{bottom:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-chip",e._g(e._b({attrs:{color:e.costColour,dark:"",block:"true",display:"fill"}},"v-chip",a,!1),n),[e._v(" "+e._s((e.cost>=0?"":"+")+Math.abs(e.costRounded).toFixed(2))+"$ ")])]}}])},[e._v(" "+e._s(e.cost>=0?"Applying this recommendation will cost an additional "+e.costRounded+"$ per week":"Save "+-e.costRounded+"$ per week by applying this recommendation")+" ")])],1)},qr=[],Fr=(r("b680"),n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}})),Mr=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"cost",get:function(){return this.rowRecommendation.costCol}},{key:"costRounded",get:function(){return this.cost.toFixed(2)}},{key:"costColour",get:function(){return this.cost>0?"orange":"green"}}]),r}(Fr);Mr=Object(Be["a"])([We["a"]],Mr);var Lr=Mr,Br=Lr,Wr=r("3a2f"),Ur=Object(c["a"])(Br,Nr,qr,!1,null,null,null),Hr=Ur.exports;Qe()(Ur,{VChip:Ar["a"],VTooltip:Wr["a"]});var Gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.checkStatus("ACTIVE")||e.checkStatus("CLAIMED"),expression:"checkStatus('ACTIVE') || checkStatus('CLAIMED')"}],attrs:{rounded:"",color:"primary",loading:e.checkStatus("CLAIMED"),dark:"",small:"",block:""},on:{click:function(t){return e.applyRecommendation()}}},[e._v("Apply")]),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.checkStatus("SUCCEEDED"),expression:"checkStatus('SUCCEEDED')"}],attrs:{rounded:"",small:"",label:"",color:"green",block:""}},[r("v-icon",{attrs:{color:"white",left:"",dark:""}},[e._v("mdi-check-circle")]),e._v(" "+e._s(e.rowRecommendation.statusCol)+" ")],1),r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.checkStatus("FAILED"),expression:"checkStatus('FAILED')"}],attrs:{color:"red darken-2",small:"",rounded:"",block:""}},n),[r("v-icon",{attrs:{left:"",color:"white"}},[e._v("mdi-alert-box")]),e._v(" Show Error ")],1)]}}]),model:{value:e.errorDialogOpened,callback:function(t){e.errorDialogOpened=t},expression:"errorDialogOpened"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.rowRecommendation.errorHeader)+" ")]),r("v-card-text",[e._v(" "+e._s(e.rowRecommendation.errorDescription)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.errorDialogOpened=!1,e.applyRecommendation()}}},[e._v(" Retry ")]),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.errorDialogOpened=!1}}},[e._v(" Close ")])],1)],1)],1)],1)},Jr=[],zr=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Kr=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.errorDialogOpened=!1,e}return Object(B["a"])(r,[{key:"checkStatus",value:function(e){return D(e),this.rowRecommendation.statusCol===V(e)}},{key:"applyRecommendation",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",[this.rowRecommendation.name])}}]),r}(zr);Kr=Object(Be["a"])([We["a"]],Kr);var Yr=Kr,Qr=Yr,Xr=(r("d413"),r("b0af")),Zr=r("99d9"),en=r("169a"),tn=Object(c["a"])(Qr,Gr,Jr,!1,null,null,null),rn=tn.exports;Qe()(tn,{VBtn:Ze["a"],VCard:Xr["a"],VCardActions:Zr["a"],VCardText:Zr["b"],VCardTitle:Zr["c"],VDialog:en["a"],VIcon:Dr["a"],VSpacer:et["a"]});var nn=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.headers=[{text:"Resource",value:"resourceCol",sortable:!0},{text:"Project",value:"projectCol",sortable:!0},{text:"Type",value:"typeCol",sortable:!0},{text:"Description",value:"description",sortable:!1},{text:"Savings/cost per week",value:"costCol",sortable:!0},{text:"",value:"statusCol",sortable:!1}],e}return Object(B["a"])(r,[{key:"setSelectableRows",value:function(e){var t=this;this.$store.commit("coreTableStore/setCurrentlySelectable",e.filter((function(e){return t.isActive(e)})))}},{key:"selectAll",value:function(e){e?this.$store.commit("coreTableStore/selectAllSelectable"):this.$store.commit("coreTableStore/unselectAllSelectable")}},{key:"areAllSelected",value:function(){var e=this;return this.selectableRows.every((function(t){return e.isSelected(t)}))&&0!==this.selectableRows.length}},{key:"isSomeSelected",value:function(){var e=this;return this.selectableRows.some((function(t){return e.isSelected(t)}))}},{key:"isActive",value:function(e){return e.statusCol===V("ACTIVE")}},{key:"isSelected",value:function(e){return this.selectedRows.includes(e)}},{key:"select",value:function(e,t){t?this.$store.commit("coreTableStore/unselect",e):this.$store.commit("coreTableStore/select",e)}},{key:"noDataMessage",value:function(){var e=this.$store.getters["selectedProjects"].length,t=this.$store.getters["failedProjects"].length;return e+" project"+(1==t?"":"s")+" processed. "+t+" project"+(1==t?"":"s")+" failed requirements check. No recommendations found in remaining projects."}},{key:"allRows",get:function(){return this.$store.getters["filteredRecommendationsWithExtras"]}},{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected},set:function(e){this.$store.commit("coreTableStore/setSelected",e)}},{key:"selectableRows",get:function(){return this.$store.state.coreTableStore.currentlySelectable}}]),r}(We["b"]);nn=Object(Be["a"])([Object(We["a"])({components:{FiltersRow:rr,ResourceCell:lr,ProjectCell:gr,TypeCell:$r,DescriptionCell:_r,SavingsCostCell:Hr,ApplyAndStatusCell:rn}})],nn);var an=nn,on=an,cn=r("0798"),sn=r("8fea"),un=r("9e88"),ln=Object(c["a"])(on,nt,at,!1,null,null,null),dn=ln.exports;Qe()(ln,{VAlert:cn["a"],VDataTable:sn["a"],VSimpleCheckbox:un["a"]});var mn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{tile:"",color:"secondary"},on:{click:e.getProjectSelection}},[r("v-icon",{attrs:{left:"",color:"white"}},[e._v("mdi-pencil")]),e._v(" Edit projects ")],1)},pn=[],fn=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"getProjectSelection",value:function(){Ge(this.$router,"ProjectsWithInit")}}]),r}(We["b"]);fn=Object(Be["a"])([Object(We["a"])({})],fn);var hn=fn,vn=hn,bn=Object(c["a"])(vn,mn,pn,!1,null,null,null),gn=bn.exports;Qe()(bn,{VBtn:Ze["a"],VIcon:Dr["a"]});var Sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.selectedRowsCount>0?r("v-footer",{ref:"footer",attrs:{fixed:!0,color:"primary",app:!0}},[r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"space-around","justify-md":"space-between"}},[r("v-btn",{attrs:{fab:"",small:"",dark:"",color:"secondary"},on:{click:e.unselectAll}},[r("v-icon",{attrs:{dark:""}},[e._v("mdi-close")])],1),r("div",[r("div",{staticStyle:{"font-weight":"bold",color:"white"},attrs:{"data-name":"footer-summary"}},[e._v(" "+e._s(e.applyPart)),r("br"),e.spendingsPart.length>0?r("span",[e._v(e._s(e.spendingsPart)),r("br")]):e._e(),e.savingsPart.length>0?r("span",[e._v(e._s(e.savingsPart))]):e._e()])]),r("div",[r("v-btn",{staticStyle:{"font-weight":"bold"},attrs:{"data-name":"footer-button",rounded:"",color:"secondary",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v("Apply Selected")])],1)],1)],1)],1):e._e(),r("v-dialog",{ref:"dialog",attrs:{"max-width":"640px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{attrs:{"data-name":"dialog"}},[r("v-card-title",{staticClass:"headline"},[r("v-row",[r("v-col",[e._v("Are you sure you want to apply "+e._s(e.selectedRowsCount)+" recommendation"+e._s(1==e.selectedRowsCount?"":"s")+"?")])],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{"data-name":"yes-button",color:"green white--text"},on:{click:function(t){e.dialog=!1,e.applySelectedRecommendations()}}},[r("v-icon",[e._v("mdi-check")]),e._v(" Yes ")],1),r("v-btn",{attrs:{"data-name":"cancel-button",color:"primary white--text"},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-window-close")]),e._v(" Cancel ")],1)],1)],1)],1)],1)},jn=[],yn=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.dialog=!1,e}return Object(B["a"])(r,[{key:"applySelectedRecommendations",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",this.selectedRows.map((function(e){return e.name}))),this.unselectAll()}},{key:"unselectAll",value:function(){this.$store.commit("coreTableStore/setSelected",[])}},{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected}},{key:"selectedRowsCount",get:function(){return this.selectedRows.length}},{key:"savingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol<0})).reduce((function(e,t){return e-t.costCol}),0)}},{key:"spendingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e,t){return e+t.costCol}),0)}},{key:"performanceSelectedCount",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e){return e+1}),0)}},{key:"applyPart",get:function(){return"Apply ".concat(this.selectedRowsCount," recommendation(s):")}},{key:"savingsPart",get:function(){var e=this.savingsFromSelected;return 0===e?"":"Use less resources and save ".concat(e.toFixed(2),"$ each week.")}},{key:"spendingsPart",get:function(){return 0===this.performanceSelectedCount?"":" Increase performance of ".concat(this.performanceSelectedCount," machine").concat(1==this.performanceSelectedCount?"":"s"," by spending ").concat(this.spendingsFromSelected.toFixed(2),"$ more each week.")}}]),r}(n["default"]);yn=Object(Be["a"])([We["a"]],yn);var On=yn,kn=On,wn=r("62ad"),xn=r("a523"),_n=r("553a"),Cn=r("0fd9"),Rn=Object(c["a"])(kn,Sn,jn,!1,null,null,null),En=Rn.exports;Qe()(Rn,{VBtn:Ze["a"],VCard:Xr["a"],VCardActions:Zr["a"],VCardTitle:Zr["c"],VCol:wn["a"],VContainer:xn["a"],VDialog:en["a"],VFooter:_n["a"],VIcon:Dr["a"],VRow:Cn["a"],VSpacer:et["a"]});var Pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.permissionDialogOpened,callback:function(t){e.permissionDialogOpened=t},expression:"permissionDialogOpened"}},[r("v-card",[r("v-card-title",{staticClass:"headline justify-center"},[r("v-col",[r("v-row",[e._v(" Loading recommendations failed for some projects ")])],1)],1),r("v-card-text",[e._v(" We were unable to fetch recommendations for the projects listed below. It may be caused by some requirements not being satisfied. For more details check permissions. "),r("v-card",{staticClass:"ma-5"},[r("v-list",{attrs:{dense:""}},e._l(e.failedProjects,(function(t){return r("v-list-item",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.permissionDialogOpened=!1,e.getPermissions()}}},[r("v-icon",[e._v("mdi-equal-box")]),e._v(" Permissions ")],1),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.permissionDialogOpened=!1}}},[r("v-icon",[e._v("mdi-window-close")]),e._v(" Close ")],1)],1)],1)],1)],1)},Tn=[],In=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.permissionDialogOpened=0!==e.failedProjects.length,e}return Object(B["a"])(r,[{key:"getPermissions",value:function(){this.$router.push("/requirements")}},{key:"failedProjects",get:function(){return this.$store.state.recommendationsStore.failedProjects}}]),r}(n["default"]);In=Object(Be["a"])([We["a"]],In);var An=In,Dn=An,Vn=(r("7ee5"),r("8860")),$n=r("da13"),Nn=Object(c["a"])(Dn,Pn,Tn,!1,null,null,null),qn=Nn.exports;Qe()(Nn,{VBtn:Ze["a"],VCard:Xr["a"],VCardActions:Zr["a"],VCardText:Zr["b"],VCardTitle:Zr["c"],VCol:wn["a"],VDialog:en["a"],VIcon:Dr["a"],VList:Vn["a"],VListItem:$n["a"],VRow:Cn["a"],VSpacer:et["a"]});var Fn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{color:"primary",dark:"",id:"progressBar",persistent:"",width:"375"}},[r("v-card-title",{staticClass:"d-flex justify-center"},[r("v-row",{attrs:{align:"center",justify:"space-around"}},[e._v(" "+e._s(e.header)+" "),e._t("default")],2)],1),r("v-card-text",[r("v-progress-linear",{staticClass:"mb-0",attrs:{color:"white",indeterminate:e.indeterminate,value:e.progress}})],1)],1)},Mn=[],Ln=(r("a9e3"),n["default"].extend({props:{progress:{type:Number,required:!0},header:{type:String,required:!0}}})),Bn=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"indeterminate",get:function(){return 0===this.progress}}]),r}(Ln);Bn=Object(Be["a"])([We["a"]],Bn);var Wn=Bn,Un=Wn,Hn=(r("c76e"),r("8e36")),Gn=Object(c["a"])(Un,Fn,Mn,!1,null,null,null),Jn=Gn.exports;Qe()(Gn,{VCard:Xr["a"],VCardText:Zr["b"],VCardTitle:Zr["c"],VProgressLinear:Hn["a"],VRow:Cn["a"]});var zn=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return Object(B["a"])(r,[{key:"cancelFetching",value:function(){this.$store.commit("recommendationsStore/setCancel",!0),Ge(this.$router,"ProjectsWithInit")}}]),r}(We["b"]);zn=Object(Be["a"])([Object(We["a"])({components:{CoreTable:dn,EditProjectsButton:gn,Footer:En,ProgressWithHeader:Jn,AppBar:rt,PermissionDialog:qn}})],zn);var Kn=zn,Yn=Kn,Qn=r("7496"),Xn=r("f6c4"),Zn=Object(c["a"])(Yn,qe,Fe,!1,null,null,null),ea=Zn.exports;Qe()(Zn,{VApp:Qn["a"],VBtn:Ze["a"],VCol:wn["a"],VContainer:xn["a"],VIcon:Dr["a"],VMain:Xn["a"],VRow:Cn["a"],VTooltip:Wr["a"]});var ta=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("AppBar"),r("v-main",[r("v-card",{attrs:{id:"errorCard",persistent:"","max-width":"700"}},[r("v-card-title",{staticClass:"justify-center",attrs:{id:"elem"}},[r("v-icon",{attrs:{large:"",color:"error"}},[e._v("mdi-alert-circle")]),e._v(" Error: "+e._s(e.header)+" ")],1),r("v-expansion-panels",{attrs:{accordion:"",multiple:""},model:{value:e.openedIndices,callback:function(t){e.openedIndices=t},expression:"openedIndices"}},e._l(e.body,(function(t,n){return r("v-expansion-panel",{key:n},[r("v-expansion-panel-header",[e._v(e._s(n))]),r("v-expansion-panel-content",[e._v(" "+e._s(t)+" ")])],1)})),1)],1)],1)],1)},ra=[],na=(r("b64b"),n["default"].extend({props:{header:{type:String,required:!0},body:{type:Object,required:!0}}})),aa=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.openedIndices=[],e}return Object(B["a"])(r,[{key:"mounted",value:function(){var e=Object.keys(this.body).length;this.openedIndices=Array.from(Array(e).keys())}}]),r}(na);aa=Object(Be["a"])([Object(We["a"])({components:{AppBar:rt}})],aa);var oa=aa,ca=oa,sa=(r("2983"),r("cd55")),ia=r("49e2"),ua=r("c865"),la=r("0393"),da=Object(c["a"])(ca,ta,ra,!1,null,null,null),ma=da.exports;Qe()(da,{VApp:Qn["a"],VCard:Xr["a"],VCardTitle:Zr["c"],VExpansionPanel:sa["a"],VExpansionPanelContent:ia["a"],VExpansionPanelHeader:ua["a"],VExpansionPanels:la["a"],VIcon:Dr["a"],VMain:Xn["a"]});var pa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("AppBar",[null===e.$store.state.requirementsStore.progress?r("EditProjectsButton"):e._e()],1),r("v-main",[null!==e.$store.state.requirementsStore.progress?r("ProgressWithHeader",{attrs:{progress:e.$store.state.requirementsStore.progress,header:"Loading requirements...","data-name":"requirement_progress_bar"}}):e._e(),null===e.$store.state.requirementsStore.progress?r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("ProjectsWithRequirements")],1)],1)],1):e._e()],1)],1)},fa=[],ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"text-center elevation-1",attrs:{items:this.allRows,"hide-default-header":!0,headers:e.headers,"item-key":"name"},scopedSlots:e._u([{key:"header",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-center",attrs:{colspan:"1"}},[e._v("Project")]),r("th",{staticClass:"text-center",attrs:{colspan:"4"}},[e._v("APIs")]),r("th",{staticClass:"text-center",attrs:{colspan:"8"}},[e._v("VM permissions")]),r("th",{staticClass:"text-center",attrs:{colspan:"4"}},[e._v("Disks permissions")]),r("th",{staticClass:"text-center",attrs:{colspan:"3"}},[e._v("Other permissions")])])])]},proxy:!0},e._l(e.requirementList,(function(t){return{key:"item."+t,fn:function(n){return[n.item.satisfiesRequirement(t)?r("v-tooltip",{key:t,attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({attrs:{color:"green"}},"v-icon",a,!1),n),[e._v("mdi-check-bold")])]}}],null,!0)},[e._v(" Requirement for "+e._s(t)+" is satisfied. ")]):n.item.hasRequirement(t)?r("v-tooltip",{key:t,attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({attrs:{color:"red"}},"v-icon",a,!1),n),[e._v("mdi-alert-circle")])]}}],null,!0)},[e._v(" "+e._s(n.item.getErrorMessage(t))+" ")]):r("v-tooltip",{key:t,attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({attrs:{color:"grey"}},"v-icon",a,!1),n),[e._v("mdi-help")])]}}],null,!0)},[e._v(" One of the requirements needed for checking the "+e._s(t)+" requirement is not satisfied. ")])]}}}))],null,!0)})],1)},va=[],ba=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.requirementList=["Service Usage API","Compute Engine API","Cloud Resource Manager API","Recommender API","compute.instances.setMachineType","compute.instances.start","compute.instances.stop","compute.instances.get","recommender.computeInstanceIdleResourceRecommendations.list","recommender.computeInstanceMachineTypeRecommendations.list","recommender.computeInstanceIdleResourceRecommendations.update","recommender.computeInstanceMachineTypeRecommendations.update","compute.disks.createSnapshot or compute.snapshots.create","compute.disks.delete","recommender.computeDiskIdleResourceRecommendations.list","recommender.computeDiskIdleResourceRecommendations.update","compute.regions.list","compute.zones.list","serviceusage.services.get"],e.headers=[].concat([{value:"name"}],e.requirementList.map((function(e){return{value:e,align:"center"}}))),e}return Object(B["a"])(r,[{key:"allRows",get:function(){return this.$store.state.requirementsStore.projects}}]),r}(We["b"]);ba=Object(Be["a"])([Object(We["a"])({})],ba);var ga=ba,Sa=ga,ja=(r("8b40"),Object(c["a"])(Sa,ha,va,!1,null,"1f7a5ed2",null)),ya=ja.exports;Qe()(ja,{VDataTable:sn["a"],VIcon:Dr["a"],VTooltip:Wr["a"]});var Oa=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return r}(We["b"]);Oa=Object(Be["a"])([Object(We["a"])({components:{ProjectsWithRequirements:ya,ProgressWithHeader:Jn,AppBar:rt,EditProjectsButton:gn}})],Oa);var ka=Oa,wa=ka,xa=Object(c["a"])(wa,pa,fa,!1,null,null,null),_a=xa.exports;Qe()(xa,{VApp:Qn["a"],VCol:wn["a"],VContainer:xn["a"],VMain:Xn["a"],VRow:Cn["a"]});var Ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("AppBar"),r("v-main",[e.$store.state.projectsStore.loaded?e._e():r("ProgressWithHeader",{attrs:{progress:0,header:"Loading projects...","data-name":"project_progress_bar"}}),e.$store.state.projectsStore.loaded?r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("ProjectList")],1)],1)],1):e._e()],1)],1)},Ra=[],Ea=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"550"}},[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-simple-checkbox",{staticClass:"mr-2",attrs:{indeterminate:!e.areAllSelected()&&e.isSomeSelected(),value:e.areAllSelected()},on:{click:e.selectAll}}),r("v-toolbar-title",[e._v(" Select projects ")]),r("v-spacer"),e.searchEnabled?r("v-text-field",{attrs:{"single-line":"","hide-details":"",autofocus:""},on:{input:function(t){return e.resetPage()}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-btn",{attrs:{icon:""},on:{click:function(t){e.searchEnabled=!1,e.search=""}}},[r("v-icon",[e._v(" mdi-magnify ")])],1)]},proxy:!0}],null,!1,4277193406),model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):r("v-btn",{attrs:{icon:""},on:{click:function(t){e.searchEnabled=!0}}},[r("v-tooltip",{attrs:{left:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({},"v-icon",a,!1),n),[e._v("mdi-magnify")])]}}])},[e._v(" Search projects ")])],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{items:this.showSelected?e.selectedRows:e.allRows,"hide-default-header":!0,headers:e.headers,search:e.search,"item-key":"name","show-select":"",page:e.page},on:{"update:page":function(t){e.page=t}},model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}}),r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-spacer"),r("v-btn",{staticClass:"white--text ma-2",staticStyle:{"font-weight":"bold"},attrs:{color:"secondary",rounded:"",depressed:"",small:""},on:{click:e.changeShowSelected}},[e._v(" "+e._s(e.showSelected?"Show all":"Show selected")+" "),r("v-icon",[e._v(e._s(e.showSelected?"mdi-checkbox-intermediate":"mdi-checkbox-marked"))])],1),r("v-spacer"),r("v-tooltip",{attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"white--text ma-2",staticStyle:{"font-weight":"bold"},attrs:{color:"secondary",rounded:"",depressed:"",small:""},on:{click:e.getRequirements}},"v-btn",a,!1),n),[e._v(" Check "),r("v-icon",[e._v("mdi-equal-box")])],1)]}}])},[e._v(" Proceed to testing requirements for the selected projects. ")]),r("v-spacer"),r("v-tooltip",{attrs:{top:"",transition:"none"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"white--text",staticStyle:{"font-weight":"bold"},attrs:{rounded:"",depressed:"",small:"",color:"secondary"},on:{click:e.getRecommendations}},"v-btn",a,!1),n),[e._v(" Accept "),r("v-icon",{attrs:{color:"white"}},[e._v("mdi-checkbox-marked-circle")])],1)]}}])},[e._v(" Proceed to fetching recommendations from the selected projects. ")]),r("v-spacer")],1)],1)},Pa=[],Ta=(r("841c"),function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){var e;return Object(f["a"])(this,r),e=t.apply(this,arguments),e.headers=[{value:"name"}],e.searchEnabled=!1,e.search="",e.showSelected=!1,e.page=1,e}return Object(B["a"])(r,[{key:"areAllSelected",value:function(){return this.allRows.length===this.selectedRows.length}},{key:"isSomeSelected",value:function(){return this.selectedRows.length>0}},{key:"selectAll",value:function(){this.areAllSelected()?this.selectedRows=[]:this.selectedRows=this.allRows}},{key:"getRequirements",value:function(){this.$store.dispatch("projectsStore/saveSelectedProjects"),Ge(this.$router,"Requirements")}},{key:"getRecommendations",value:function(){this.$store.dispatch("projectsStore/saveSelectedProjects"),Ge(this.$router,"HomeWithInit")}},{key:"changeShowSelected",value:function(){this.showSelected=!this.showSelected,this.resetPage()}},{key:"resetPage",value:function(){this.page=1}},{key:"allRows",get:function(){return this.$store.state.projectsStore.projects}},{key:"selectedRows",get:function(){return this.$store.state.projectsStore.projectsSelected},set:function(e){this.$store.commit("projectsStore/setSelected",e)}}]),r}(We["b"]));Ta=Object(Be["a"])([Object(We["a"])({})],Ta);var Ia=Ta,Aa=Ia,Da=r("71d9"),Va=r("2a7f"),$a=Object(c["a"])(Aa,Ea,Pa,!1,null,null,null),Na=$a.exports;Qe()($a,{VBtn:Ze["a"],VCard:Xr["a"],VDataTable:sn["a"],VIcon:Dr["a"],VSimpleCheckbox:un["a"],VSpacer:et["a"],VTextField:jt["a"],VToolbar:Da["a"],VToolbarTitle:Va["a"],VTooltip:Wr["a"]});var qa=function(e){Object(Me["a"])(r,e);var t=Object(Le["a"])(r);function r(){return Object(f["a"])(this,r),t.apply(this,arguments)}return r}(We["b"]);qa=Object(Be["a"])([Object(We["a"])({components:{ProjectList:Na,AppBar:rt,ProgressWithHeader:Jn}})],qa);var Fa=qa,Ma=Fa,La=Object(c["a"])(Ma,Ca,Ra,!1,null,null,null),Ba=La.exports;function Wa(e,t){var r=Ne.state.authStore.idToken;return void 0!==r||(window.sessionStorage.setItem("redirectName",t),e({name:"GoogleSignIn"}),!1)}Qe()(La,{VApp:Qn["a"],VCol:wn["a"],VContainer:xn["a"],VMain:Xn["a"],VRow:Cn["a"]}),n["default"].use(d["a"]);var Ua=[{path:"/",name:"Home",component:ea,beforeEnter:function(e,t,r){Wa(r,"HomeWithInit")&&r()}},{path:"/googleSignIn",name:"GoogleSignIn",beforeEnter:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ce();case 2:if(e.sent){e.next=6;break}return e.next=5,b("Recomator backend not responsive.",{},!0);case 5:return e.abrupt("return");case 6:window.location.href="".concat(F(),"/redirect");case 7:case"end":return e.stop()}}),e)})))()}},{path:"/auth",name:"GetTokenAndGoHome",beforeEnter:function(e,t,r){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a,o,c,s,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.query.code,void 0!=n){t.next=4;break}return r(new Error("The auth code is missing")),t.abrupt("return");case 4:return t.next=6,fetch("".concat(F(),"/auth?code=").concat(n));case 6:if(a=t.sent,o=a.status,200===o){t.next=11;break}return r(new Error("Failed to connect to the backend")),t.abrupt("return");case 11:return t.next=13,a.json();case 13:if(c=t.sent,s=c.token,Ne.commit("authStore/setIDToken",s),i=window.sessionStorage.getItem("redirectName"),window.sessionStorage.removeItem("redirectName"),u=Ee(),null!==u){t.next=22;break}return r({name:"ProjectsWithInit"}),t.abrupt("return");case 22:Ne.commit("projectsStore/setSelected",JSON.parse(u)),r({name:void 0==i?"HomeWithInit":i});case 24:case"end":return t.stop()}}),t)})))()}},{path:"/homeWithInit",name:"HomeWithInit",beforeEnter:function(e,t,r){var n;Ne.dispatch("recommendationsStore/fetchRecommendations"),(null===(n=Ne.state.recommendationsStore)||void 0===n?void 0:n.centralStatusWatcherRunning)||Ne.dispatch("recommendationsStore/startCentralStatusWatcher"),r({name:"Home"})}},{path:"/errorMsg",name:"ErrorMsg",component:ma,beforeEnter:function(e,t,r){return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===e.query.header||void 0===e.query.body?r(Error("Error header or body not provided.")):r();case 1:case"end":return t.stop()}}),t)})))()},props:function(e){return{header:decodeURIComponent(e.query.header),body:JSON.parse(decodeURIComponent(e.query.body))}}},{path:"/requirements",name:"Requirements",component:_a,beforeEnter:function(e,t,r){Wa(r,"Requirements")&&(Ne.dispatch("requirementsStore/fetchRequirements"),r())}},{path:"/projectsWithInit",name:"ProjectsWithInit",component:Ba,beforeEnter:function(e,t,r){Ne.dispatch("projectsStore/fetchProjects"),r({name:"Projects"})}},{path:"/projects",name:"Projects",component:Ba,beforeEnter:function(e,t,r){Wa(r,"ProjectsWithInit")&&r()}}],Ha=new d["a"]({mode:"hash",base:"/",routes:Ua});Ha.onError((function(e){console.log(["Navigation failed",e.message,e.stack])}));var Ga=Ha,Ja=r("ce5b"),za=r.n(Ja);n["default"].use(za.a);var Ka=new za.a({}),Ya=Ka;n["default"].config.productionTip=!1,Ne.state.router=Ga,new n["default"]({router:Ga,store:Ne,vuetify:Ya,render:function(e){return e(u)}}).$mount("#app")},d413:function(e,t,r){"use strict";var n=r("5253"),a=r.n(n);a.a}});
//# sourceMappingURL=app.feaeea32.js.map